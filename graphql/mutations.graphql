mutation InsertGridMutation(
  $gridObjects: [grid_insert_input!]!
  $labResultsObjects: [lab_result_insert_input!]!
) {
  insert_grid(objects: $gridObjects) {
    affected_rows
  }
  insert_lab_result(objects: $labResultsObjects) {
    affected_rows
  }
}

mutation InsertApplicationMutation($application: [application_insert_input!]!) {
  insert_application(objects: $application) {
    affected_rows
  }
}

mutation UpdateLabResultPositiveMutation(
  $gridId: uuid!
  $column: Int!
  $row: Int!
  $positive: Boolean!
) {
  update_lab_result(
    _set: {positive: $positive}
    where: {
      referenced_in_grid_id: {_eq: $gridId}
      _and: {column: {_eq: $column}, _and: {row: {_eq: $row}}}
    }
  ) {
    affected_rows
  }
}

mutation UpdateLabResultSampleCodeMutation(
  $gridId: uuid!
  $column: Int!
  $row: Int!
  $sampleCode: String!
) {
  update_lab_result(
    _set: {sample_code: $sampleCode}
    where: {
      referenced_in_grid_id: {_eq: $gridId}
      _and: {column: {_eq: $column}, _and: {row: {_eq: $row}}}
    }
  ) {
    affected_rows
  }
}

mutation UpdateApplicationMutation($id: uuid!, $changes: application_set_input!) {
  update_application(where: {id: {_eq: $id}}, _set: $changes) {
    affected_rows
  }
}
